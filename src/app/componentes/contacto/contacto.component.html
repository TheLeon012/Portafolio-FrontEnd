<section class="desvanecer">
    <section style="padding-top: 10%;">
        <div class="container text-center">
        <h2 class=" fw-bold mt-5" style="font-size: 2.5rem; text-align: left;">
          Contacto
          <button *ngIf="autentication.estaLogueado" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addContModal">
            añadir Contacto
          </button>
        </h2>
        <p class="letra-estilo" >
          Conctáctame para trabajar juntos.
        </p>
        <div style="text-align: center;"> 
          <section >
            <div class="container px-4 text-center" >
              <div class="row gx-5" >
                <div class="containerskill col-xl col-sm-3 col-6"  *ngFor="let cont of contacto">
                  <div>
                    <div class="p-3">
                      <a href="{{cont?.linkRedSocial}}" target="_blank">
                        <i class= "  {{cont?.imagenUrlContacto}} fa-3x "></i>                  
                      </a>
                      <h4 style="font-size: 1rem;"> {{cont?.descripcionContacto}} </h4>
                    </div>
                  </div>
                  <div *ngIf="autentication.estaLogueado">
                    <button  
                        (click)="onOpenModal('edit', cont)"
                        type="button" class="btn btn-primary botonEditor" 
                        data-bs-toggle="modal" 
                        data-bs-target="#editContModal"
                        data-original-title="edit">
                            <i class="fa fa-pencil"></i>
                    </button>   
                    <button 
                        (click)="onOpenModal('delete', cont)"
                        type="button" 
                        class="btn btn-danger botonEditor" 
                        data-bs-toggle="modal" 
                        data-bs-target="#deleteContModal"
                        data-original-title="delete"> 
                            <i class="fas fa-times"></i>
                    </button>                 
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
        </div>
    </section>
</section>
<!-- add modal -->
<div class="modal fade" 
    id="addContModal" 
    tabindex="-1"  
    role="dialog" 
    aria-labelledby="addContModalLabel" 
    aria-hidden="true">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="addContModalLabel"> Añadir Contacto</h5>  
          </div>
          <div class="modal-body">
              <form #addForm="ngForm" (ngSubmit)="onAddCont(addForm)">
                  <div class="form-group">
                      <label for="linkRedSocial"> Link para redireccionar </label>
                      <input type="text" 
                              ngModel 
                              name="linkRedSocial" 
                              class="form-control" 
                              id="linkRedSocial" 
                              placeholder="Url de Red Social" 
                              required
                      />
                  </div>
                  <div class="form-group">
                      <label for="imagenUrlContacto"> Icono </label>
                      <input type="text" 
                      ngModel 
                      name="imagenUrlContacto" 
                      class="form-control" 
                      id="imagenUrlContacto" 
                      placeholder="icono de Fontwezome. Ej: fa-brands fa-facebook" 
                      required>
                  </div>
                  <div class="form-group">
                      <label for="descripcionContacto"> pie de imagen </label>
                      <input type="text" 
                      ngModel 
                      name="descripcionContacto" 
                      class="form-control" 
                      id="descripcionContacto" 
                      placeholder="Contactame - sigueme " 
                      required>
                  </div>
                  <div class="modal-footer">
                      <button 
                      type="button" 
                      id="add-con-form"
                      class="btn btn-secondary" 
                      data-bs-dismiss="modal">
                      Cerrar
                      </button>
                      <button 
                          [disabled]="addForm.invalid"
                          type="submit" 
                          class="btn btn-primary" > 
                              Guardar
                      </button>
                  </div>
              </form>
          </div>
      </div>
  </div>
</div>
<!-- edit modal -->
<div class="modal fade" 
id="editContModal" 
tabindex="-1"  
role="dialog" 
aria-labelledby="editContModalLabel" 
aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="editContModalLabel"> 
                Editar Contacto </h5>
        </div>
        <div class="modal-body">
            <form #editForm="ngForm">
                <div class="form-group">
                    <label for="linkRedSocial"> Link para redireccionar  </label>
                    <input 
                        type="text" 
                        ngModel =  "{{editCont?.linkRedSocial}}"
                        name="linkRedSocial" 
                        class="form-control" 
                        id="linkRedSocial" 
                        aria-describedby="emailHelp"
                        placeholder="Link para redireccionar"     
                    />
                </div>
                <input 
                    type="hidden" 
                    ngModel= "{{editCont?.idContac}}" 
                    name="idContac" 
                    id="idContac"
                    class="form-control"
                    placeholder="" />
                <div class="form-group">
                    <label for="imagenUrlContacto"> Icono </label>
                    <input type="text" 
                    ngModel = "{{editCont?.imagenUrlContacto}}"
                    name="imagenUrlContacto" 
                    class="form-control" 
                    id="imagenUrlContacto" 
                    placeholder="icono de Fontwezome" >
                </div>
                <div class="form-group">
                    <label for="descripcionContacto"> pie de imagen </label>
                    <input type="text" 
                    ngModel = "{{editCont?.descripcionContacto}}"
                    name="descripcionContacto" 
                    class="form-control" 
                    id="descripcionContacto" 
                    placeholder="tipoCircleSkill" 
                    required>
                </div>
                <div class="modal-footer">
                    <button 
                        type="button" 
                        id=""
                        class="btn btn-secondary" 
                        data-bs-dismiss="modal">
                        Cerrar
                    </button>
                    <!--Botón para guardar los cambios del contacto -->
                    <button
                        (click)="onUpdateContacto(editForm.value)"
                        data-bs-dismiss="modal"  
                        class="btn btn-primary"> 
                            Guardar  
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
</div>
<!-- delete modal -->
<div
class="modal fade" 
id="deleteContModal" 
tabindex="-1"  
role="dialog" 
aria-labelledby="deleteContModalLabel" 
aria-hidden="true">>
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="deleteContModalLabel"> Eliminar habilidad </h5>
        </div>
        <div class="modal-body">
            <p>
                <!-- Mensaje de confirmación -->
                ¿Estás seguro de que quieres eliminar el contacto?
            </p>
            <div class="modal-footer">
                <!-- Botón para cerrar el modal -->
                <button 
                        type="button" 
                        class="btn btn-secondary" 
                        data-bs-dismiss="modal">
                        Cerrar
                </button>
                <!-- Botón para eliminar el contacto -->
                <button
                    (click)="onDeleteCont(deleteCont!.idContac)"
                    data-bs-dismiss="modal" 
                    class="btn btn-danger" 
                    type="button" > 
                        Eliminar
                </button>
            </div>
        </div>
    </div>
</div>
</div>
